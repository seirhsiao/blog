window.tagcloud=function(o,a){function c(e){var i=this;i.config=c._getConfig(e),i.box=i.config.element,i.fontsize=i.config.fontsize,i.radius=i.config.radius,i.depth=2*i.radius,i.size=2*i.radius,i.mspeed=c._getMsSpeed(i.config.mspeed),i.ispeed=c._getIsSpeed(i.config.ispeed),i.items=i._getItems(),i.direction=i.config.direction,i.keep=i.config.keep,i.active=!1,i.lasta=1,i.lastb=1,i.mouseX0=i.ispeed*Math.sin(i.direction*Math.PI/180),i.mouseY0=-i.ispeed*Math.cos(i.direction*Math.PI/180),i.mouseX=i.mouseX0,i.mouseY=i.mouseY0,i.index=-1,c._on(i.box,"mouseover",function(){i.active=!0}),c._on(i.box,"mouseout",function(){i.active=!1}),c._on(i.keep?o:i.box,"mousemove",function(e){var t=o.event||e,s=i.box.getBoundingClientRect();i.mouseX=(t.clientX-(s.left+i.box.offsetWidth/2))/5,i.mouseY=(t.clientY-(s.top+i.box.offsetHeight/2))/5});for(var t=0,s=i.items.length;t<s;t++)i.items[t].element.index=t,i.items[t].element.onmouseover=function(){i.index=this.index},i.items[t].element.onmouseout=function(){i.index=-1};c.boxs.push(i.box),i.update(i),i.box.style.visibility="visible",i.box.style.position="relative",i.box.style.minHeight=0*i.size+"px",i.box.style.minWidth=0*i.size+"px";for(t=0,s=i.items.length;t<s;t++)i.items[t].element.style.position="absolute",i.items[t].element.style.zIndex=t+1;i.up=setInterval(function(){i.update(i)},10)}return c.boxs=[],c._set=function(e){if(-1==c.boxs.indexOf(e))return!0},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,s=Number(arguments[1])||0;for((s=s<0?Math.ceil(s):Math.floor(s))<0&&(s+=t);s<t;s++)if(s in this&&this[s]===e)return s;return-1}),c._getConfig=function(e){var t={fontsize:16,radius:60,mspeed:"normal",ispeed:"normal",direction:135,keep:!0};if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t},c._getMsSpeed=function(e){return{slow:1.5,normal:3,fast:5}[e]||3},c._getIsSpeed=function(e){return{slow:10,normal:25,fast:50}[e]||25},c._getSc=function(e,t){var s=Math.PI/180;return[Math.sin(e*s),Math.cos(e*s),Math.sin(t*s),Math.cos(t*s)]},c._on=function(e,t,s,i){e.addEventListener?e.addEventListener(t,s,i):e.attachEvent?e.attachEvent("on"+t,s):e["on"+t]=s},c.prototype={constructor:c,update:function(){var e,t,s=this;if(s.active||s.keep||(s.mouseX=Math.abs(s.mouseX-s.mouseX0)<1?s.mouseX0:(s.mouseX+s.mouseX0)/2,s.mouseY=Math.abs(s.mouseY-s.mouseY0)<1?s.mouseY0:(s.mouseY+s.mouseY0)/2),e=-Math.min(Math.max(-s.mouseY,-s.size),s.size)/s.radius*s.mspeed,t=Math.min(Math.max(-s.mouseX,-s.size),s.size)/s.radius*s.mspeed,!(Math.abs(e)<=.01&&Math.abs(t)<=.01)){s.lasta=e,s.lastb=t;for(var i=c._getSc(e,t),o=0,n=s.items.length;o<n;o++){var a=s.items[o].x,l=s.items[o].y*i[1]+s.items[o].z*-i[0],m=s.items[o].y*i[0]+s.items[o].z*i[1],r=a*i[3]+m*i[2],u=l,h=m*i[3]-a*i[2];if(s.index==o)s.items[o].scale=1,s.items[o].fontsize=16,s.items[o].alpha=1,s.items[o].element.style.zIndex=99;else{var f=s.depth/(s.depth+h);s.items[o].x=r,s.items[o].y=u,s.items[o].z=h,s.items[o].scale=f,s.items[o].fontsize=Math.ceil(2*f)+s.fontsize-6,s.items[o].alpha=1.5*f-.5,s.items[o].element.style.zIndex=Math.ceil(10*f-5)}s.items[o].element.style.left=s.items[o].x+(s.box.offsetWidth-s.items[o].offsetWidth)/2+"px",s.items[o].element.style.top=s.items[o].y+(s.box.offsetHeight-s.items[o].offsetHeight)/2+"px",s.items[o].element.style.filter="alpha(opacity="+100*s.items[o].alpha+")",s.items[o].element.style.opacity=s.items[o].alpha}}},_getItems:function(){for(var e,t=this,s=[],i=t.box.children,o=i.length,n=0;n<o;n++)(e={angle:{}}).angle.phi=Math.acos((2*n+1)/o-1),e.angle.theta=Math.sqrt((o+1)*Math.PI)*e.angle.phi,e.element=i[n],e.offsetWidth=e.element.offsetWidth,e.offsetHeight=e.element.offsetHeight,e.x=1.5*t.radius*Math.cos(e.angle.theta)*Math.sin(e.angle.phi),e.y=1.5*t.radius*Math.sin(e.angle.theta)*Math.sin(e.angle.phi),e.z=1.5*t.radius*Math.cos(e.angle.phi),e.element.style.left=e.x+(t.box.offsetWidth-e.offsetWidth)/2+"px",e.element.style.top=e.y+(t.box.offsetHeight-e.offsetHeight)/2+"px",s.push(e);return s}},a.querySelectorAll||(a.querySelectorAll=function(e){var t,s=a.createElement("style"),i=[];for(a.documentElement.firstChild.appendChild(s),a._qsa=[],s.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),s.parentNode.removeChild(s);a._qsa.length;)(t=a._qsa.shift()).style.removeAttribute("x-qsa"),i.push(t);return a._qsa=null,i}),function(e){for(var t=(e=e||{}).selector||".tagcloud",s=a.querySelectorAll(t),i=[],o=0,n=s.length;o<n;o++)e.element=s[o],c._set(e.element)&&i.push(new c(e));return i}}(window,document);